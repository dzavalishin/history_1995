================================= dz's netmail =================================
   From: Alexey Roschin                      2:5030/133.38   08 Nov 96  19:38:50
     To: Dmitry Zavalishin                   2:5020/32       13 Nov 96  01:35:18
   Subj: Виртуальность                                                          
================================================================================
Hi, Dmitry!

05 Nov 96 00:35, Dmitry Zavalishin wrote to Alexey Roschin next things:

 AR>> Как быть с виртуальными методами? Я бы оставил только виртуальные.
 DZ> Точно. Только их. В принципе, можно сделать кейворд "nonvirtual" или типа
 DZ> того, но вообще это должен сечь сам оптимизатор.

    Вот именно. Hехрен бояться. Погляди на флэт - любой задрипанный инт жрет в 
коде памяти раз в пять больше, чем сам занимает. Чего стрематься на _процедуру_ 
лишнюю память под адрес отдать?
    Борланды с этой экономией докатились до ТРЕХ типов виртуальных методов. В 
дельфи: virtual, dynamic и message модели виртуальности. А когда перекрываешь, 
то нужно override указать. Иначе процедура просто забивает видимость папиной :)
    Кейворд можно другой взять - inline. Тогда компайлер может подставить в
код, а может статический вызов сгенерить. Виртуальность прихлопывается заодно.

 AR>> Фиг ты тогда отследишь мое дерево вызовов :)
 DZ> Дерево ТИПОВ вызовов, а не конкретных передач управления. Отслежу -
 DZ> типы-то одинаковые. Hе может из двух виртуальных функций только одна быть
 DZ> const.

    Hе понимаю. Можно передать параметром объект с перекрытой неизвестно как 
функцией и ее вызвать. Что она дальше будет делать, принципиально неизвестно. 
Или _предвыполнить_ программу? Те же грабли, что при вычислении констант 
функциями. А раздельная компиляция?

Best regards, Alexey
--- 2.41+
 * Origin: MARGO station (2:5030/133.38)

